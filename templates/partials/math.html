<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

<style>
    /* Hide content until KaTeX renders */
    .post-content {
        opacity: 0;
        transition: opacity 0.3s ease-in;
    }
    
    .post-content.math-rendered {
        opacity: 1;
    }
    
    .katex-display {
        margin: 1.5em 0;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const content = document.querySelector('.post-content');
        
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false}
            ],
            throwOnError: false
        });
        
        // Show content after rendering
        if (content) {
            content.classList.add('math-rendered');
        }
    });
</script>